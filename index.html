<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ôn tập</title>

    <meta name="21053201-VoTruongKhang" content="Bài thi cuối kỳ">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script src="js/jquery-3.6.4.min.js"></script>
    <script src="js/bootstrap.min.js"></script>

    <style>
        .error {
            color: red;
            font-style: italic;
        }

        .border-text {
            border: 1px solid red;
        }

        [class*="col-"] {
            padding: 0px;
        }

        li {
            list-style-type: none;
        }

    </style>
    <script>
        $(document).ready(function() {

            function ktma() {
                let ma = $('#txtma').val();
                let patma = /^(SP)\d{4}((NK)|(XK))$/;
                if(patma.test(ma)) {
                    $("#erma").html("Nhập đúng");
                    $("#txtma").removeClass("border-text");
                    return true;
                }else {
                    $("#erma").html("Mã sai");
                    $("#erma").addClass("error");
                    $("#txtma").addClass("border-text");
                    return false;
                }
            }

            $("#txtma").blur(function(e) {
                ktma();
            });

            $("#btn").click(function(e) {
                let ma = $("#txtma").val();
                let ngay = $("#txtngay").val();

                let ten = $("#txtten").val();
                let hinhthuc = $("input[name='tt']:checked").val();
                let loai = [];
                $.each($("input[name='loai']:checked"), function() {
                    loai.push($(this).val());
                });
                let loaisp = $("#lstloai option:selected").text();
                let thue = $("#lstloai option:selected").val();

                if(ktma()) {
                    let trnew = "<tr><td>" + ma + "</td><td>" + ten + "</td><td>" + ngay + "</td><td>" + loaisp + "</td><td>" + loai + "</td><td>" + hinhthuc + "</td><td>" + thue + "</td></tr>";
                    $("#tblsp").append(trnew);
                }

                $("#frmdk").modal(hide);

            });

            $("#lstloai").change(function(e) {
                let thue = $("#lstloai option:selected").val();
                $("#txtthue").val(thue);
                alert(thue);
            });

            $(".nav-link").click(function() {
                var target = $(this).attr("data-target");
                $(target).modal(show);
            });

        });
    </script>

</head>
<body>

    <div class="container">
        <div class="row">
            <div class="col-12 bg-info" style="height: 100px;">
                <h1 class="text-center text-danger">Header</h1>
            </div>
        </div>

        <div class="row bg-success">
            <div class="col=12">
                <nav class="navbar navbar-expand">
                    <li class="nav-item">
                        <a href="" class="nav-link">Link</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link">Link</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link">Link</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link">Link</a>
                    </li>
                </nav>
            </div>
        </div>
        <div class="row">
            <div class="col-2 bg-dark">
                <nav class="navbar">
                    <li class="nav-item">
                        <a href="" class="nav-link" data-target="#frmdk" data-toggle="modal">Form đăng ký</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link">Link</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link">Link</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link">Link</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link">Link</a>
                    </li>
                </nav>
            </div>
            <div class="col-10">
                <table class="table table-info" id="tblsp">
                    <tr>
                        <th>Mã</th>
                        <th>Tên</th>
                        <th>Ngày</th>
                        <th>Loại sản phẩm</th>
                        <th>Hình thức</th>
                        <th>Loại</th>
                        <th>Thuế</th>
                    </tr>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-12 bg-info" style="height: 80px;">
                21053201-Võ Trường Khang
            </div>
        </div>

    </div>

    <div class="modal" id="frmdk">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h1>Quản lý sản phẩm</h1>
                    <button data-dismiss="modal" class="close">&times;</button>
                </div>
                <div class="modal-body">
                    <form action="">
                        <div class="row form-group">
                            <label for="" class="col-2">Mã sản phẩm</label>
                            <div class="col-10">
                                <input type="text" class="form-control" id="txtma">
                                <span id="erma"></span>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="" class="col-2">Tên</label>
                            <div class="col-10">
                                <input type="text" class="form-control" id="txtten">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="" class="col-2">Ngày</label>
                            <div class="col-10">
                                <input type="date" class="form-control" id="txtngay" placeholder="dd/mm/yyyy">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="" class="col-2">Loại</label>
                            <div class="col-10">
                                <select name="" id="lstloai" class="form-control">
                                    <option value="5%">Bánh ngọt</option>
                                    <option value="10%">Nước ngọt</option>
                                    <option value="15%">Bia</option>
                                </select>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="" class="col-2">Thuê</label>
                            <div class="col-10">
                                <input type="text" class="form-control" readonly="true" id="txtthue">
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="" class="col-2">Thanh toán</label>
                            <div class="col-10">
                                <input type="radio" class="form-check-inline" name="tt" value="Online"> Online
                                <input type="radio" class="form-check-inline" name="tt" value="Tiền mặt"> Tiền mặt
                            </div>
                        </div>
                        <div class="row form-group">
                            <label for="" class="col-2">Loại hàng hóa</label>
                            <div class="col-10">
                                <input type="radio" class="form-check-inline" name="loai" value="Nhập khẩu"> Nhập khẩu
                                <input type="radio" class="form-check-inline" name="loai" value="Xuất khẩu"> Xuất khẩu
                            </div>
                        </div>
                        <div class="row form-group">
                            <div class="col-12 text-center">
                                <button class="btn btn-dark" id="btn" type="button">Nhập kho</button>
                                <button class="btn btn-dark">Hủy</button>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    21053201-Võ Trường Khang
                </div>
            </div>
        </div>
    </div>
    
</body>
</html>